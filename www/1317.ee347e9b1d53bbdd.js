"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1317],{1317:(x,m,r)=>{r.r(m),r.d(m,{BasicPageModule:()=>M});var d=r(6814),a=r(95),i=r(7852),c=r(2881),f=r(5861),t=r(9468),h=r(6215),g=r(5233);function b(e,l){1&e&&(t.TgZ(0,"ion-title",17),t._uU(1,"Datos b\xe1sicos"),t.qZA())}const P=function(e,l){return{title_show:e,title_no_show:l}},_=[{path:"",component:(()=>{class e{constructor(o,n,s,p){this.profileService=o,this.fb=n,this.toastController=s,this.router=p,this.litle_text=!1,this.onlyLettersMask={mask:[...Array(80).fill(/^[a-zA-Z\s]/)]},this.phoneMask={mask:[...Array(9).fill(/\d/)]},this.birthMask={mask:[...Array(2).fill(/\d/),"/",...Array(2).fill(/\d/),"/",...Array(4).fill(/\d/)]},this.fiscalIdMask={mask:[...Array(8).fill(/\d/),...Array(1).fill(/^[a-zA-Z]/)]},this.maskPredicate=function(){var C=(0,f.Z)(function*(u){return u.getInputElement()});return function(u){return C.apply(this,arguments)}}(),this.reloadPending=!1,this.loading=!1,this.updateLoading=!1}ngOnInit(){this.profileForm=this.fb.group({name:["",[a.kI.required]],surname1:["",[a.kI.required]],surname2:["",[]],fiscalId:["",[a.kI.pattern(/^\d{8}[A-Za-z]$/)]],phone:["",[a.kI.pattern(/^\d{9}$/)]],birthDate:["",[]],headline:["",[a.kI.maxLength(100)]],description:["",[a.kI.maxLength(500)]],linkedin:[""],twitter:[""],instagram:[""],phonePublic:[!1],emailPublic:[!1]}),this.refreshProfile(void 0)}handleRefresh(o){this.refreshProfile(o)}refreshProfile(o){this.reloadPending=!0,this.profileService.getProfile().subscribe(n=>{this.profile=n,this.profileForm.patchValue(n),o&&o.target.complete()})}updateProfile(){this.updateLoading=!0,this.profileService.updateProfile(this.profileForm).subscribe(o=>{this.updateLoading=!1,this.profileForm.markAsPristine(),this.presentToast("bottom","Perfil actualizado")},()=>{this.updateLoading=!1,this.presentToast("bottom","No se ha podido actualizar el perfil")})}logout(){localStorage.removeItem("accessToken"),this.router.navigate(["/auth"])}presentToast(o,n){var s=this;return(0,f.Z)(function*(){yield(yield s.toastController.create({message:n,duration:1500,position:o})).present()})()}handleScroll(o){this.litle_text=o.detail.scrollTop>42}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.H),t.Y36(a.qu),t.Y36(i.yF),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-basic"]],decls:29,vars:18,consts:[["slot","start"],["routerLink","/profile","slot","start"],["name","arrow-back-outline",1,"icon_x","ion-padding"],["class","ion-text-center ion-custom-title",4,"ngIf"],[1,"ion-no-padding",3,"scrollEvents","ionScroll"],[1,"ion-padding","text_title_header",3,"ngClass"],[1,"parraf_p"],[3,"formGroup"],["mode","md"],["lines","none",1,"datos_basicos"],["label","Nombre","label-placement","floating","formControlName","name",3,"maskito","maskitoElement"],["label","Apellidos","label-placement","floating","formControlName","surname1",3,"maskito","maskitoElement"],["label","DNI / NIF / NIE","label-placement","floating","formControlName","fiscalId",3,"maskito","maskitoElement"],["label","Fecha de nacimiento","label-placement","floating","formControlName","birthDate",3,"maskito","maskitoElement"],["label","Tel\xe9fono","label-placement","floating","formControlName","phone",3,"maskito","maskitoElement"],["shape","round","fill","clear","color","danger","expand","block",3,"click"],["shape","round","expand","block",1,"btn_profile",3,"disabled","click"],[1,"ion-text-center","ion-custom-title"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-buttons",1),t._UZ(4,"ion-icon",2),t.qZA()(),t.YNc(5,b,2,0,"ion-title",3),t.qZA()(),t.TgZ(6,"ion-content",4),t.NdJ("ionScroll",function(p){return n.handleScroll(p)}),t.TgZ(7,"ion-label",5),t._uU(8,"Datos b\xe1sicos"),t.qZA(),t.TgZ(9,"p",6),t._uU(10,"Estos datos estar\xe1n asociados a tus experiencias."),t.qZA(),t.TgZ(11,"form",7)(12,"ion-list",8)(13,"ion-item",9),t._UZ(14,"ion-input",10),t.qZA(),t.TgZ(15,"ion-item",9),t._UZ(16,"ion-input",11),t.qZA(),t.TgZ(17,"ion-item",9),t._UZ(18,"ion-input",12),t.qZA(),t.TgZ(19,"ion-item",9),t._UZ(20,"ion-input",13),t.qZA(),t.TgZ(21,"ion-item",9),t._UZ(22,"ion-input",14),t.qZA()()(),t.TgZ(23,"ion-button",15),t.NdJ("click",function(){return n.logout()}),t._uU(24,"Cerrar sesi\xf3n"),t.qZA()(),t.TgZ(25,"ion-footer")(26,"ion-toolbar")(27,"ion-button",16),t.NdJ("click",function(){return n.updateProfile()}),t._uU(28,"Guardar"),t.qZA()()()),2&o&&(t.xp6(5),t.Q6J("ngIf",n.litle_text),t.xp6(1),t.Q6J("scrollEvents",!0),t.xp6(1),t.Q6J("ngClass",t.WLB(15,P,!n.litle_text,n.litle_text)),t.xp6(4),t.Q6J("formGroup",n.profileForm),t.xp6(3),t.Q6J("maskito",n.onlyLettersMask)("maskitoElement",n.maskPredicate),t.xp6(2),t.Q6J("maskito",n.onlyLettersMask)("maskitoElement",n.maskPredicate),t.xp6(2),t.Q6J("maskito",n.fiscalIdMask)("maskitoElement",n.maskPredicate),t.xp6(2),t.Q6J("maskito",n.birthMask)("maskitoElement",n.maskPredicate),t.xp6(2),t.Q6J("maskito",n.phoneMask)("maskitoElement",n.maskPredicate),t.xp6(5),t.Q6J("disabled",!n.profileForm.dirty||!n.profileForm.valid))},dependencies:[d.mk,d.O5,a._Y,a.JJ,a.JL,i.YG,i.Sm,i.W2,i.fr,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.wd,i.sr,i.j9,i.YI,c.rH,g.ro,a.sg,a.u],styles:["ion-button[_ngcontent-%COMP%]{width:100%}.btn_profile[_ngcontent-%COMP%]{border-radius:32px;background:var(--Primario-nevent, #5B7EF2);display:flex;width:auto;height:55px;justify-content:center;align-items:center;margin:54px 10% 100px}.icon_x[_ngcontent-%COMP%]{margin-left:0}.datos_basicos[_ngcontent-%COMP%]{margin-bottom:24px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:16px;font-style:normal;font-weight:600;line-height:24px;margin-left:3%}ion-item[_ngcontent-%COMP%]   .label_profile[_ngcontent-%COMP%]{font-weight:400}ion-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{margin-right:3%}app-card-preview[_ngcontent-%COMP%]{width:100%}.ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #000;text-align:center}.md[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{text-align:center}.ios[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.text_title_header[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:28px;font-style:normal;font-weight:600;line-height:42px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:0}.parraf_p[_ngcontent-%COMP%]{color:#bdbdbd;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal;margin-top:10%;padding:0 24px}.color_item_profile[_ngcontent-%COMP%]{--ion-item-background: #161616;padding-left:5%;padding-right:5%;box-shadow:0 4px 4px #00000096;--border-radius: 8px}ion-avatar[_ngcontent-%COMP%]{height:51px;width:51px;margin-top:20px;margin-bottom:20px}.md[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]:hover, ion-input[_ngcontent-%COMP%]:focus, ion-input[_ngcontent-%COMP%]:after{--background: #000;--color: #fff;--border-color: #F2F2F2;width:342px;margin-left:auto;margin-right:auto;--padding-bottom: 15px;--padding-end: 10px;--padding-start: 10px}.input-fill-solid.sc-ion-input-md-h[_ngcontent-%COMP%]{border-color:#fff;border-style:solid;border-radius:8px!important}.label-text-wrapper[_ngcontent-%COMP%]{color:#bdbdbd;font-family:Poppins;font-size:14px;font-style:normal;font-weight:400;line-height:normal}.native-wrapper[_ngcontent-%COMP%]{color:#f2f2f2;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal}.ios[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]:hover, ion-input[_ngcontent-%COMP%]:focus, ion-input[_ngcontent-%COMP%]:after{--background: #000;--color: #fff;--border-color: #F2F2F2;width:342px;margin-left:auto;margin-right:auto;--padding-bottom: 15px;--padding-end: 10px;--padding-start: 10px}ion-footer[_ngcontent-%COMP%]{height:20%}.title_no_show[_ngcontent-%COMP%]{visibility:hidden}.title_show[_ngcontent-%COMP%]{visibility:visible}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(_),c.Bz]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,a.u5,i.Pc,k,g.U5,a.UX]}),e})()}}]);