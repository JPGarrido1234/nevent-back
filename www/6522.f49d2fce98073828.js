"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6522],{6522:(x,g,r)=>{r.r(g),r.d(g,{PublicPageModule:()=>_});var p=r(6814),i=r(95),e=r(7852),c=r(2881),f=r(5861),t=r(9468),u=r(6215);function m(n,a){1&n&&(t.TgZ(0,"ion-title",14),t._uU(1,"Perfil p\xfablico"),t.qZA())}const h=function(n,a){return{title_show:n,title_no_show:a}},P=[{path:"",component:(()=>{class n{constructor(o,l,s){this.profileService=o,this.fb=l,this.toastController=s,this.litle_text=!1,this.reloadPending=!1,this.loading=!1,this.updateLoading=!1}ngOnInit(){this.profileForm=this.fb.group({name:["",[i.kI.required]],surname1:["",[i.kI.required]],surname2:["",[]],fiscalId:["",[i.kI.pattern(/^\d{8}[A-Za-z]$/)]],phone:["",[i.kI.pattern(/^\d{9}$/)]],birthDate:["",[]],headline:["",[i.kI.maxLength(100)]],description:["",[i.kI.maxLength(500)]],linkedin:[""],twitter:[""],instagram:[""],phonePublic:[!1],emailPublic:[!1]}),this.refreshProfile(void 0)}handleRefresh(o){this.refreshProfile(o)}refreshProfile(o){this.reloadPending=!0,this.profileService.getProfile().subscribe(l=>{this.profile=l,console.log(this.profile),this.profileForm.patchValue(l),o&&o.target.complete()})}updateProfile(){this.updateLoading=!0,this.profileService.updateProfile(this.profileForm).subscribe(o=>{this.updateLoading=!1,this.profileForm.markAsPristine(),this.presentToast("bottom","Perfil actualizado")},()=>{this.updateLoading=!1,this.presentToast("bottom","No se ha podido actualizar el perfil")})}presentToast(o,l){var s=this;return(0,f.Z)(function*(){yield(yield s.toastController.create({message:l,duration:1500,position:o})).present()})()}handleScroll(o){this.litle_text=o.detail.scrollTop>42}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(u.H),t.Y36(i.qu),t.Y36(e.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-public"]],decls:24,vars:8,consts:[["routerLink","/profile","slot","start"],["name","arrow-back-outline",1,"icon_x","ion-padding"],["class","ion-text-center ion-custom-title",4,"ngIf"],[1,"ion-no-padding",3,"scrollEvents","ionScroll"],[1,"ion-padding","text_title_header",3,"ngClass"],[1,"parraf_p"],[3,"formGroup"],["mode","md"],["lines","none",1,"datos_basicos"],["label","Headline","label-placement","floating","formControlName","headline"],["label","LinkedIn","label-placement","floating","formControlName","linkedin"],["label","Twitter","label-placement","floating","formControlName","twitter"],["label","Instagram","label-placement","floating","formControlName","instagram"],["shape","round","expand","block",1,"btn_profile",3,"disabled","click"],[1,"ion-text-center","ion-custom-title"]],template:function(o,l){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-icon",1),t.qZA(),t.YNc(4,m,2,0,"ion-title",2),t.qZA()(),t.TgZ(5,"ion-content",3),t.NdJ("ionScroll",function(d){return l.handleScroll(d)}),t.TgZ(6,"ion-label",4),t._uU(7,"Perfil p\xfablico"),t.qZA(),t.TgZ(8,"p",5),t._uU(9,"Datos visibles para otros usuarios"),t.qZA(),t.TgZ(10,"form",6)(11,"ion-list",7)(12,"ion-item",8),t._UZ(13,"ion-input",9),t.qZA(),t.TgZ(14,"ion-item",8),t._UZ(15,"ion-input",10),t.qZA(),t.TgZ(16,"ion-item",8),t._UZ(17,"ion-input",11),t.qZA(),t.TgZ(18,"ion-item",8),t._UZ(19,"ion-input",12),t.qZA()()()(),t.TgZ(20,"ion-footer")(21,"ion-toolbar")(22,"ion-button",13),t.NdJ("click",function(){return l.updateProfile()}),t._uU(23,"Guardar"),t.qZA()()()),2&o&&(t.xp6(4),t.Q6J("ngIf",l.litle_text),t.xp6(1),t.Q6J("scrollEvents",!0),t.xp6(1),t.Q6J("ngClass",t.WLB(5,h,!l.litle_text,l.litle_text)),t.xp6(4),t.Q6J("formGroup",l.profileForm),t.xp6(12),t.Q6J("disabled",!l.profileForm.dirty))},dependencies:[p.mk,p.O5,i._Y,i.JJ,i.JL,i.sg,i.u,e.YG,e.Sm,e.W2,e.fr,e.Gu,e.gu,e.pK,e.Ie,e.Q$,e.q_,e.wd,e.sr,e.j9,e.YI,c.rH],styles:["ion-button[_ngcontent-%COMP%]{width:100%}.btn_profile[_ngcontent-%COMP%]{border-radius:32px;background:var(--Primario-nevent, #5B7EF2);display:flex;width:auto;height:55px;justify-content:center;align-items:center;margin:54px 10% 100px}.icon_x[_ngcontent-%COMP%]{margin-left:0}.datos_basicos[_ngcontent-%COMP%]{margin-bottom:24px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:16px;font-style:normal;font-weight:600;line-height:24px;margin-left:3%}ion-item[_ngcontent-%COMP%]   .label_profile[_ngcontent-%COMP%]{font-weight:400}ion-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{margin-right:3%}app-card-preview[_ngcontent-%COMP%]{width:100%}.ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--ion-color-base: transparent !important;--opacity: .8;text-align:center}.md[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{text-align:center}.ios[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.text_title_header[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:28px;font-style:normal;font-weight:600;line-height:42px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:0}.parraf_p[_ngcontent-%COMP%]{color:#bdbdbd;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal;margin-top:10%;padding:0 24px}.color_item_profile[_ngcontent-%COMP%]{--ion-item-background: #161616;padding-left:5%;padding-right:5%;box-shadow:0 4px 4px #00000096;--border-radius: 8px}ion-avatar[_ngcontent-%COMP%]{height:51px;width:51px;margin-top:20px;margin-bottom:20px}.md[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]:hover, ion-input[_ngcontent-%COMP%]:focus, ion-input[_ngcontent-%COMP%]:after{--background: #000;--color: #fff;--border-color: #F2F2F2;width:342px;margin-left:auto;margin-right:auto;--padding-bottom: 15px;--padding-end: 10px;--padding-start: 10px}.input-fill-solid.sc-ion-input-md-h[_ngcontent-%COMP%]{border-color:#fff;border-style:solid;border-radius:8px!important}.label-text-wrapper[_ngcontent-%COMP%]{color:#bdbdbd;font-family:Poppins;font-size:14px;font-style:normal;font-weight:400;line-height:normal}.native-wrapper[_ngcontent-%COMP%]{color:#f2f2f2;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal}.ios[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]:hover, ion-input[_ngcontent-%COMP%]:focus, ion-input[_ngcontent-%COMP%]:after{--background: #000;--color: #fff;--border-color: #F2F2F2;width:342px;margin-left:auto;margin-right:auto;--padding-bottom: 15px;--padding-end: 10px;--padding-start: 10px}ion-footer[_ngcontent-%COMP%]{height:20%}.title_no_show[_ngcontent-%COMP%]{visibility:hidden}.title_show[_ngcontent-%COMP%]{visibility:visible}"]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(P),c.Bz]}),n})(),_=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,i.u5,i.UX,e.Pc,b]}),n})()}}]);