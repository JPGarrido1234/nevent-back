"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4183],{3729:($,d,o)=>{o.d(d,{g:()=>f});var u=o(553),h=o(9468),t=o(9862);let f=(()=>{class r{constructor(e){this.http=e,this.urlBase=u.N.apiUrl}getTicketList(){return this.http.get(`${this.urlBase}/tickets`)}getTicket(e){return this.http.get(`${this.urlBase}/tickets/findById/${e}`)}isScanned(e){return this.http.get(`${this.urlBase}/tickets/${e}/scanned`)}getFeaturedBanner(e){return this.http.get(`${this.urlBase}/tickets/${e}/featured`)}getFeaturedBanners(e){return this.http.get(`${this.urlBase}/tickets/${e}/banners`)}getUnassignedTickets(){return this.http.get(`${this.urlBase}/purchases/unassigned`)}assignTicket(e,n){return this.http.post(`${this.urlBase}/tickets/${e}/assign`,n)}countUnreadNotifications(e){return this.http.get(`${this.urlBase}/tickets/${e}/messages/count`)}getNotifications(e){return this.http.get(`${this.urlBase}/tickets/${e}/notifications`)}markAsRead(e,n){return this.http.post(`${this.urlBase}/tickets/${e}/notifications/read`,n)}markAsUnread(e,n){return this.http.post(`${this.urlBase}/tickets/${e}/notifications/${n}/unread`,{})}getMessages(e){return this.http.get(`${this.urlBase}/tickets/${e}/messages`)}getCustomisation(e){return this.http.get(`${this.urlBase}/tickets/${e}/customization`)}getSponsors(e){return this.http.get(`${this.urlBase}/tickets/${e}/sponsors`)}upgrade(e,n,a,m){return this.http.post(`${this.urlBase}/tickets/${e}/upgrade`,{paymentMethodId:"wallet"===n?void 0:n,tokenUpgrade:a,billingDetails:m})}confirm(e,n){return this.http.post(`${this.urlBase}/tickets/${e}/upgrade/complete?paymentIntent=${n}`,{})}getTokenUrls(e){return this.http.get(`${this.urlBase}/tickets/${e}/images`)}getTicketDetail(e){return this.http.get(`${this.urlBase}/tickets/${e}/detail`)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(t.eN))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},4183:($,d,o)=>{o.r(d),o.d(d,{TicketsPageModule:()=>x});var u=o(6814),h=o(2881),t=o(9468),f=o(3729),r=o(7852),k=o(4009);function e(i,l){if(1&i&&(t.TgZ(0,"ion-title",7),t._uU(1),t.qZA()),2&i){const s=t.oxw();t.xp6(1),t.hij("Mis tokens (",s.tickets.length,")")}}function n(i,l){1&i&&t._UZ(0,"app-token-card-preview",11),2&i&&t.Q6J("ticket",l.$implicit)}function a(i,l){if(1&i&&(t.TgZ(0,"div",8)(1,"ion-grid")(2,"ion-row")(3,"ion-col",9),t.YNc(4,n,1,1,"app-token-card-preview",10),t.qZA()()(),t.TgZ(5,"div",9)(6,"ion-label")(7,"p"),t._uU(8,' \xbfNo encuentras tu entrada? Revisa las compras que has realizado en la secci\xf3n "Compras" '),t.qZA()()()()),2&i){const s=t.oxw();t.xp6(4),t.Q6J("ngForOf",s.tickets)}}function m(i,l){1&i&&(t.TgZ(0,"div",9)(1,"ion-label")(2,"h2"),t._uU(3,"Vaya! No tienes ning\xfan token."),t.qZA(),t.TgZ(4,"p"),t._uU(5,"\xbfA qu\xe9 esperas para vivir tu pr\xf3xima experiencia?"),t.qZA()()())}const T=function(i,l){return{title_show:i,title_no_show:l}},_=[{path:"",component:(()=>{class i{constructor(s,c){this.ticketService=s,this.router=c,this.loading=!1,this.tickets=[],this.litle_text=!1}ngOnInit(){this.refreshTickets(void 0)}handleRefresh(s){this.refreshTickets(s)}handleScroll(s){this.litle_text=s.detail.scrollTop>42}refreshTickets(s){this.loading=!0,this.ticketService.getTicketList().subscribe(c=>{this.loading=!1,this.tickets=c.sort((p,g)=>p.event?.venue?.startDate>g.event?.venue?.startDate?-1:p.event?.venue?.startDate<g.event?.venue?.startDate?1:0),s&&s.target.complete()})}}return i.\u0275fac=function(s){return new(s||i)(t.Y36(f.g),t.Y36(h.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-tickets"]],decls:11,vars:14,consts:[[3,"translucent"],["class","ion-text-center ion-custom-title",4,"ngIf"],[3,"fullscreen","scrollEvents","ionScroll"],[1,"ion-padding","text_title_header",3,"ngClass"],["slot","fixed",3,"pullFactor","pullMin","pullMax","ionRefresh"],["class","container","id","container",4,"ngIf","ngIfElse"],["emptyList",""],[1,"ion-text-center","ion-custom-title"],["id","container",1,"container"],[1,"ion-padding"],[3,"ticket",4,"ngFor","ngForOf"],[3,"ticket"]],template:function(s,c){if(1&s&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar"),t.YNc(2,e,2,1,"ion-title",1),t.qZA()(),t.TgZ(3,"ion-content",2),t.NdJ("ionScroll",function(g){return c.handleScroll(g)}),t.TgZ(4,"ion-label",3),t._uU(5),t.qZA(),t.TgZ(6,"ion-refresher",4),t.NdJ("ionRefresh",function(g){return c.handleRefresh(g)}),t._UZ(7,"ion-refresher-content"),t.qZA(),t.YNc(8,a,9,1,"div",5),t.YNc(9,m,6,0,"ng-template",null,6,t.W1O),t.qZA()),2&s){const p=t.MAs(10);t.Q6J("translucent",!0),t.xp6(2),t.Q6J("ngIf",c.litle_text),t.xp6(1),t.Q6J("fullscreen",!0)("scrollEvents",!0),t.xp6(1),t.Q6J("ngClass",t.WLB(11,T,!c.litle_text,c.litle_text)),t.xp6(1),t.hij("Mis tokens (",c.tickets.length,")"),t.xp6(1),t.Q6J("pullFactor",.5)("pullMin",100)("pullMax",200),t.xp6(2),t.Q6J("ngIf",c.tickets&&c.tickets.length>0)("ngIfElse",p)}},dependencies:[r.wI,r.W2,r.jY,r.Gu,r.Q$,r.nJ,r.Wo,r.Nd,r.wd,r.sr,u.mk,u.sg,u.O5,k.X],styles:[".container[_ngcontent-%COMP%]{margin-top:10%}.text_title_header[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:28px;font-style:normal;font-weight:600;line-height:42px;margin-left:1.4%;padding-top:5%;display:block}.ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #000;text-align:center}.md[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{text-align:center}.ios[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}p[_ngcontent-%COMP%]{color:#bdbdbd}.title_no_show[_ngcontent-%COMP%]{visibility:hidden}.title_show[_ngcontent-%COMP%]{visibility:visible}"]}),i})(),children:[]},{path:":id",loadChildren:()=>o.e(4026).then(o.bind(o,4735)).then(i=>i.TicketDetailModule)}];let C=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.Bz.forChild(_),h.Bz]}),i})();var v=o(95),M=o(3554),B=o(6208);let x=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[r.Pc,u.ez,B.m,v.UX,v.u5,M.e,C]}),i})()}}]);