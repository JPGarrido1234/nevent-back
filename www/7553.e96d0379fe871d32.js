"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7553],{7553:(P,g,a)=>{a.r(g),a.d(g,{PurchasesPageModule:()=>T});var c=a(6814),p=a(2881),n=a(9468),u=a(3353),o=a(7852);function h(t,r){if(1&t&&(n.TgZ(0,"ion-col",4)(1,"span",8),n._uU(2),n.qZA(),n._UZ(3,"ion-icon",9),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Oqu(e.purchase.tickets.length)}}function s(t,r){if(1&t&&(n.TgZ(0,"ion-col",10)(1,"span",8),n._uU(2),n.qZA(),n._UZ(3,"ion-icon",11),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Oqu(e.purchase.experiences.length)}}function l(t,r){if(1&t&&(n.TgZ(0,"ion-col",10)(1,"span",8),n._uU(2),n.qZA(),n._UZ(3,"ion-icon",12),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Oqu(e.purchase.products.length)}}let f=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-purchase-item"]],inputs:{purchase:"purchase"},decls:17,vars:14,consts:[[1,"eventName"],[1,"ion-align-items-center"],["class","ion-no-padding","size","auto",4,"ngIf"],["size","auto","class","ion-no-padding column_icon",4,"ngIf"],["size","auto",1,"ion-no-padding"],[1,"eventExperience"],[1,"width_hour"],[1,"eventExperienceHour"],[1,"eventLength"],["name","ticket-outline",1,"margin_icon"],["size","auto",1,"ion-no-padding","column_icon"],["name","arrow-up-outline",1,"margin_icon"],["name","bag-outline",1,"margin_icon"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-label")(1,"span",0),n._uU(2),n.qZA(),n.TgZ(3,"ion-grid")(4,"ion-row",1),n.YNc(5,h,4,1,"ion-col",2),n.YNc(6,s,4,1,"ion-col",3),n.YNc(7,l,4,1,"ion-col",3),n.qZA(),n.TgZ(8,"ion-row")(9,"ion-col",4)(10,"span",5),n._uU(11),n.ALo(12,"currency"),n.qZA()(),n.TgZ(13,"ion-col",6)(14,"span",7),n._uU(15),n.ALo(16,"date"),n.qZA()()()()()),2&e&&(n.xp6(2),n.Oqu(i.purchase.eventName),n.xp6(3),n.Q6J("ngIf",i.purchase.tickets&&i.purchase.tickets.length>0),n.xp6(1),n.Q6J("ngIf",i.purchase.experiences&&i.purchase.experiences.length>0),n.xp6(1),n.Q6J("ngIf",i.purchase.products&&i.purchase.products.length>0),n.xp6(4),n.Oqu(n.gM2(12,6,i.purchase.totalPrice/100,"EUR","symbol","1.2-2")),n.xp6(4),n.Oqu(n.xi3(16,11,i.purchase.purchasedAt,"d MMM y, HH:mm")))},dependencies:[o.wI,o.jY,o.gu,o.Q$,o.Nd,c.O5,c.H9,c.uU],styles:["ion-button[_ngcontent-%COMP%]{width:100%}.eventName[_ngcontent-%COMP%]{color:#fbfbfb;font-size:16px;font-weight:600;margin-left:2%}.eventExperience[_ngcontent-%COMP%]{color:#fff;font-size:11px;font-weight:400}.eventExperienceHour[_ngcontent-%COMP%], .eventLength[_ngcontent-%COMP%]{color:#bdbdbd;font-size:11px;font-weight:400}.btn_profile[_ngcontent-%COMP%]{border-radius:32px;background:var(--Primario-nevent, #5B7EF2);display:flex;width:auto;height:55px;justify-content:center;align-items:center;margin:54px 10% 100px}.icon_x[_ngcontent-%COMP%]{margin-left:0}.datos_basicos[_ngcontent-%COMP%]{margin-bottom:24px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:16px;font-style:normal;font-weight:600;line-height:24px;margin-left:3%}ion-item[_ngcontent-%COMP%]   .label_profile[_ngcontent-%COMP%]{font-weight:400}ion-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{margin-right:3%}app-card-preview[_ngcontent-%COMP%]{width:100%}.ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--ion-color-base: transparent !important;--opacity: .8;text-align:center}.md[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{text-align:center}.ios[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.text_title_header[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:28px;font-style:normal;font-weight:600;line-height:42px}ion-list[_ngcontent-%COMP%], .parraf_p[_ngcontent-%COMP%]{margin-top:10%}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], .parraf_p[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:24px}.parraf_p[_ngcontent-%COMP%]{color:#bdbdbd;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal;padding:0 24px 24px}.color_item_profile[_ngcontent-%COMP%]{--ion-item-background: #161616;padding-left:5%;padding-right:5%;box-shadow:0 4px 4px #00000096;--border-radius: 8px}ion-avatar[_ngcontent-%COMP%]{height:51px;width:51px;margin-top:20px;margin-bottom:20px}.md[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]:hover, ion-input[_ngcontent-%COMP%]:focus, ion-input[_ngcontent-%COMP%]:after{--background: #000;--color: #fff;--border-color: #F2F2F2;width:342px;margin-left:auto;margin-right:auto;--padding-bottom: 15px;--padding-end: 10px;--padding-start: 10px}.input-fill-solid.sc-ion-input-md-h[_ngcontent-%COMP%]{border-color:#fff;border-style:solid;border-radius:8px!important}.label-text-wrapper[_ngcontent-%COMP%]{color:#bdbdbd;font-family:Poppins;font-size:14px;font-style:normal;font-weight:400;line-height:normal}.native-wrapper[_ngcontent-%COMP%]{color:#f2f2f2;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal}.ios[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]:hover, ion-input[_ngcontent-%COMP%]:focus, ion-input[_ngcontent-%COMP%]:after{--background: #000;--color: #fff;--border-color: #F2F2F2;width:342px;margin-left:auto;margin-right:auto;--padding-bottom: 15px;--padding-end: 10px;--padding-start: 10px}ion-icon[_ngcontent-%COMP%]{width:12px;height:12px}.width_hour[_ngcontent-%COMP%]{margin-left:3px;padding-top:0}.column_icon[_ngcontent-%COMP%]{margin-left:8px}.margin_icon[_ngcontent-%COMP%]{margin-left:4px;margin-bottom:-1px}"]}),t})();function d(t,r){if(1&t&&(n.TgZ(0,"ion-title",9),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.hij("Mis compras (",e.purchases.length,")")}}const x=function(t){return["/purchases",t]};function C(t,r){if(1&t&&(n.TgZ(0,"ion-item",12),n._UZ(1,"app-purchase-item",13)(2,"ion-img",14),n.qZA()),2&t){const e=r.$implicit;n.Q6J("routerLink",n.VKq(2,x,e.id)),n.xp6(1),n.Q6J("purchase",e)}}function M(t,r){if(1&t&&(n.TgZ(0,"ion-list",10),n.YNc(1,C,3,4,"ion-item",11),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.purchases)}}function O(t,r){1&t&&(n.TgZ(0,"div",15)(1,"ion-label")(2,"h2"),n._uU(3,"Vaya! No has realizado ninguna compra."),n.qZA()()())}const b=function(t,r){return{title_show:t,title_no_show:r}},v=[{path:"",component:(()=>{class t{constructor(e){this.purchaseService=e,this.litle_text=!1,this.purchases=[],this.showingPurchases=[],this.unassignedTickets=[],this.filterActive=!1}ngOnInit(){this.refreshPurchases(void 0)}handleRefresh(e){this.refreshPurchases(e)}refreshPurchases(e){this.purchaseService.getPurchaseList().subscribe(i=>{this.purchases=i,this.showingPurchases=this.purchases,e&&e.target.complete()})}handleScroll(e){this.litle_text=e.detail.scrollTop>42}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u.B))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-purchases"]],decls:15,vars:12,consts:[["slot","start"],["name","arrow-back-outline",1,"icon_x","ion-padding"],["class","ion-text-center ion-custom-title",4,"ngIf"],[1,"ion-no-padding",3,"scrollEvents","ionScroll"],[1,"ion-padding","text_title_header",3,"ngClass"],[1,"parraf_p"],["slot","fixed",3,"pullFactor","pullMin","pullMax","ionRefresh"],["lines","none","mode","md",4,"ngIf","ngIfElse"],["emptyList",""],[1,"ion-text-center","ion-custom-title"],["lines","none","mode","md"],["class","lista_expe","detail","false","href","#",3,"routerLink",4,"ngFor","ngForOf"],["detail","false","href","#",1,"lista_expe",3,"routerLink"],[3,"purchase"],["slot","end","src","../../assets/images/icon_profile_flecha.svg"],[1,"ion-padding"]],template:function(e,i){if(1&e&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n._UZ(3,"ion-icon",1),n.qZA(),n.YNc(4,d,2,1,"ion-title",2),n.qZA()(),n.TgZ(5,"ion-content",3),n.NdJ("ionScroll",function(_){return i.handleScroll(_)}),n.TgZ(6,"ion-label",4),n._uU(7),n.qZA(),n.TgZ(8,"p",5),n._uU(9,"Estas son las compras que has realizado."),n.qZA(),n.TgZ(10,"ion-refresher",6),n.NdJ("ionRefresh",function(_){return i.handleRefresh(_)}),n._UZ(11,"ion-refresher-content"),n.qZA(),n.YNc(12,M,2,1,"ion-list",7),n.YNc(13,O,4,0,"ng-template",null,8,n.W1O),n.qZA()),2&e){const m=n.MAs(14);n.xp6(4),n.Q6J("ngIf",i.litle_text),n.xp6(1),n.Q6J("scrollEvents",!0),n.xp6(1),n.Q6J("ngClass",n.WLB(9,b,!i.litle_text,i.litle_text)),n.xp6(1),n.hij("Mis compras (",i.purchases.length,")"),n.xp6(3),n.Q6J("pullFactor",.5)("pullMin",100)("pullMax",200),n.xp6(2),n.Q6J("ngIf",i.purchases&&i.purchases.length>0)("ngIfElse",m)}},dependencies:[o.Sm,o.W2,o.Gu,o.gu,o.Xz,o.Ie,o.Q$,o.q_,o.nJ,o.Wo,o.wd,o.sr,o.YI,c.mk,c.sg,c.O5,p.rH,f],styles:["ion-button[_ngcontent-%COMP%]{width:100%}.btn_profile[_ngcontent-%COMP%]{border-radius:32px;background:var(--Primario-nevent, #5B7EF2);display:flex;width:auto;height:55px;justify-content:center;align-items:center;margin:54px 10% 100px}.icon_x[_ngcontent-%COMP%]{margin-left:0}.datos_basicos[_ngcontent-%COMP%]{margin-bottom:24px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:16px;font-style:normal;font-weight:600;line-height:24px;margin-left:3%}ion-item[_ngcontent-%COMP%]   .label_profile[_ngcontent-%COMP%]{font-weight:400}ion-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{margin-right:3%}app-card-preview[_ngcontent-%COMP%]{width:100%}.ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--ion-color-base: transparent !important;--opacity: .8;text-align:center}.md[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{text-align:center}.ios[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.text_title_header[_ngcontent-%COMP%]{color:#fbfbfb;font-family:Poppins;font-size:28px;font-style:normal;font-weight:600;line-height:42px;margin-left:2%}ion-list[_ngcontent-%COMP%], .parraf_p[_ngcontent-%COMP%]{margin-top:10%}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], .parraf_p[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:24px}.parraf_p[_ngcontent-%COMP%]{color:#bdbdbd;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal;padding:0 24px 24px}.color_item_profile[_ngcontent-%COMP%]{--ion-item-background: #161616;padding-left:5%;padding-right:5%;box-shadow:0 4px 4px #00000096;--border-radius: 8px}ion-avatar[_ngcontent-%COMP%]{height:51px;width:51px;margin-top:20px;margin-bottom:20px}.md[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]:hover, ion-input[_ngcontent-%COMP%]:focus, ion-input[_ngcontent-%COMP%]:after{--background: #000;--color: #fff;--border-color: #F2F2F2;width:342px;margin-left:auto;margin-right:auto;--padding-bottom: 15px;--padding-end: 10px;--padding-start: 10px}.input-fill-solid.sc-ion-input-md-h[_ngcontent-%COMP%]{border-color:#fff;border-style:solid;border-radius:8px!important}.label-text-wrapper[_ngcontent-%COMP%]{color:#bdbdbd;font-family:Poppins;font-size:14px;font-style:normal;font-weight:400;line-height:normal}.native-wrapper[_ngcontent-%COMP%]{color:#f2f2f2;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal}.ios[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%]:hover, ion-input[_ngcontent-%COMP%]:focus, ion-input[_ngcontent-%COMP%]:after{--background: #000;--color: #fff;--border-color: #F2F2F2;width:342px;margin-left:auto;margin-right:auto;--padding-bottom: 15px;--padding-end: 10px;--padding-start: 10px}.lista_expe[_ngcontent-%COMP%]{margin-left:3%;margin-right:3%;margin-bottom:5%}p[_ngcontent-%COMP%]{color:#bdbdbd}.title_no_show[_ngcontent-%COMP%]{visibility:hidden}.title_show[_ngcontent-%COMP%]{visibility:visible}"]}),t})(),children:[]},{path:":id",loadChildren:()=>a.e(4390).then(a.bind(a,4390)).then(t=>t.PurchaseDetailModule)}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.Bz.forChild(v),p.Bz]}),t})();var y=a(95),Z=a(3554);let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[o.Pc,c.ez,y.u5,Z.e,c.ez,w]}),t})()},3353:(P,g,a)=>{a.d(g,{B:()=>u});var c=a(553),p=a(9468),n=a(9862);let u=(()=>{class o{constructor(s){this.http=s,this.urlBase=c.N.apiUrl}getPurchaseList(){return this.http.get(`${this.urlBase}/purchases`)}getUnassignedTickets(){return this.http.get(`${this.urlBase}/purchases/unassigned`)}getPurchaseDetails(s){return this.http.get(`${this.urlBase}/purchases/${s}`)}assignTicket(s,l,f){return this.http.post(`${this.urlBase}/purchases/${s}/assign/${l}`,f)}}return o.\u0275fac=function(s){return new(s||o)(p.LFG(n.eN))},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);